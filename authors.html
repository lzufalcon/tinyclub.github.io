---
layout: page
title: 作者
tagline: 展示原创作者及其贡献
header: Post By Authors
comments: false
---
{% include JB/setup %}

{% assign posts_by_author = site.posts | group_by:"author" | sort:"author" %}

{% assign x_label = '作者' %}
{% assign y_label = '贡献' %}

{% assign list = nil %}

{% for post_author in posts_by_author %}
    {% assign author_name = post_author.name %}

    {% assign list0 = post_author.items.size | append:',' | append: author_name %}
    {% if list == nil %}
        {% assign list = list0 %}
    {% else %}
        {% assign list = list | append:';' | append: list0 %}
    {% endif %}

    {% assign post_author_name = post_author.name | replace:' ','-' %}
    <h3 id="{{ post_author_name | downcase | replace:' ','-' | replace:'/','-' }}-ref"><a id="author-{{post_author_name}}" title="点击查看作者详细信息">{{ post_author.name }}</a> <sup>({{ post_author.items.size }})</sup></h3>

    <div id="author-box-wrap-{{ post_author_name }}" class="author-box-wrap" style="display:none">
    {% assign author_box_id = post_author_name %}
    {% assign author_box_ref = post_author_name | prepend:"-" %}
    {% assign author_box_visible = "style='display: block;'" %}
    {% if author_name == null or author_name == empty %}
        {% capture author_name %}{% if page.author %}{{ page.author }}{% else %}admin{% endif %}{% endcapture %}
    {% endif %}
    {% capture who %}{% if author_name == "admin" %}我们{% else %}作者{% endif %}{% endcapture %}

    <div class="panel panel-default">
    <div class="panel-body">
    {% assign author = site.data.people[author_name] %}
    {% if author == null %} {% assign author = site.data.people["admin"] %} {% endif %}

    {% for contact in site.data.contacts %}
        {% if page.url == "/authors.html" and (contact.name == "archive" or contact.name == "article") %}
            {% continue %}
        {% endif %}

        {% assign icon = '' %}
        {% assign url = '' %}
        {% assign title = '' %}
        {% assign content = '' %}

        {% if contact.name == "article" %}
            {% assign icon = '<i class="fa fa-link"></i>' %}
            {% assign url = site.production_url | append: page.url %}
            {% assign title = "手机扫码阅读" %}
        {% endif %}

        {% if contact.name == "archive" and author['archive'] %}
            {% assign icon = '<i class="fa fa-doc-text-inv"></i>' %}
            {% if author_name == "admin" %}
                {% assign url = site.production_url | append: site.JB.archive_path %}
                {% assign title = "查看本站 " | append: site.posts.size | append: " 篇文章" %}
            {% else %}
                {% assign post_num = 0 %}
                {% assign posts_by_author = site.posts | group_by:"author" | sort:"author" %}
                {% for author in posts_by_author %}
                    {% if author.name == author_name %}
                        {% capture post_num %}{{ author.items.size }}{% endcapture %}
                        {% break %}
                    {% endif %}
                {% endfor %}
                {% assign url = site.production_url | append: site.JB.authors_path | append:"#" | append: (author_name | replace:' ','-') %}
                {% assign title = "查看作者 " | append: post_num | append: " 篇文章" %}
            {% endif %}
        {% endif %}

        {% if contact.name == "site" and author['site'] %}
            {% assign icon = '<i class="fa fa-export-alt"></i>' %}
            {% assign url = author.site %}
            {% assign title = "扫码访问 " | append: author.site  %}
        {% endif %}

        {% if contact.name == "email" and author['email'] %}
            {% assign icon = '<i class="fa fa-mail-alt"></i>' %}
            {% assign url = "mailto:" | author.email %}
            {% assign title = "邮件 " | append: author.email %}
        {% endif %}

        {% if contact.name == "github" and author['github'] %}
            {% assign icon = '<i class="fa fa-github-circled"></i>' %}
            {% assign url = "http://github.com/" | append: author.github %}
            {% assign title = "Github: " | append: author.github %}
        {% endif %}

        {% if contact.name == "weibo" and author['weibo'] %}
            {% assign icon = '<i class="fa fa-weibo"></i>' %}
            {% assign url = "http://weibo.com/" | append: author.weibo %}
            {% assign title = "新浪微博 " | append: author.weibo %}
        {% endif %}

        {% if contact.name == "wechat" and author['wechat'] %}
            {% assign icon = '<i class="fa fa-wechat"></i>' %}
            {% assign title = "扫码关注微信 " | append: author.wechat %}
            {% assign url = author.wechat %}
        {% endif %}

        {% if contact.name == "sponsor" and author['sponsor'] %}
            {% assign icon = '<i class="fa fa-yen"></i>' %}
            {% assign author_paytool = author['sponsor'] | split: "-" | first %}
            {% assign author_payammount = author['sponsor'] | split: "-" | last %}
            {% assign title = "用" | append: site.data.paytools[author_paytool] | append: "扫码赞助 ￥" | append: author_payammount %}
        {% endif %}

        {% if contact.name == "info" and author['info'] %}
            {% assign icon = '<i class="fa fa-info-circled"></i>' %}
            {% assign title = author.name | append: " (" | append: author.nickname | append: ")" %}
            {% assign content = author.info | replace:"；","<br/>" | replace:";", "<br/>" %}
        {% endif %}
        <a class="author-{{ contact.name }}" href="{{ url }}">{{ icon }}</a>
        <div class="author-{{ contact.name }}-content popover bottom">
            <div class="arrow"></div>
            <p class="popover-title">{{ title }}</p>
            <div class="popover-content">
                {{ content }}
                {% capture qrcode %}{{ contact.name }}-qrcode{% endcapture %}
                {% assign has_qrcode = author[qrcode] %}
                {% if has_qrcode %}
                    <div class="author-{{ contact.name }}-qrcode">
                        <img style="height: 200px; width:200px" src="/images/{{ contact.name }}/{{ author[contact.name] }}.jpg">
                    </div>
                {% else %}
                    {% if url != "" %}
                        <div class="author-{{ contact.name }}-qrcode-generate"></div>
                        <script type="text/javascript"> $(function ($) { $("#author-box-wrap-{{ post_author_name }} .author-{{ contact.name }}-content .author-{{ contact.name }}-qrcode-generate").qrcode({ text: "{{ url }}", width: 200, height: 200 }) });</script>
                    {% endif %}
                {% endif %}
            </div>
        </div>
        <script>
            $(function($) {
                $('#author-box-wrap-{{ post_author_name }} .author-{{ contact.name }}').mouseenter(function() {
                    $('#author-box-wrap-{{ post_author_name }} .author-{{ contact.name }}-content').show();
                    $('#author-box-wrap-{{ post_author_name }} .author-{{ contact.name }}-content')
                            .css('top', $('#author-box-wrap-{{ post_author_name }} .author-{{ contact.name }}').position().top + 30)
                            .css('left', $('#author-box-wrap-{{ post_author_name }} .author-{{ contact.name }}').position().left - 100);
                });

                $('#author-box-wrap-{{ post_author_name }} .author-{{ contact.name }}').mouseleave(function() {
                    $('#author-box-wrap-{{ post_author_name }} .author-{{ contact.name }}-content').hide();
                });
            });
        </script>
        {% endfor %}
        {% assign author = null %}
        {% assign author_name = null %}
    </div>
    </div>
    </div>
    <script>
        $(function($) {
            var author_box = $('#author-box-wrap-{{ post_author_name }}');
            $("#author-{{ post_author_name }}").click(function() {
                if (author_box.css('display') == "none") {
                    author_box.css('display', 'block');
                } else {
                    author_box.css('display', 'none');
                }
            });
        });
    </script>

    <ul>
        {% for post in post_author.items %}
        <li><a href="{{ post.url }}">{{ post.title }}</a></li>
        {% endfor %}
    </ul>
{% endfor %}

{% assign list = list | split:';' | join:';' %}

<h3>{{ x_label}}{{ y_label}}统计 <sup>({{ site.posts.size }})</sup></h3>
{% include themes/tinylab/partials/content/svg_statistic.html %}